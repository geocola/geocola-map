<div class="query-table">
  {{#if objects.length}}
    <table class="table table-striped table-condensed">
      <thead>
        <tr>
          <th class="tool-buttons">
            <i ($click)="toggleSelectAll" class="fa fa-{{#if _allSelected}}check-{{/if}}square-o"></i>
          </th>
          {{#each fields}}
            <th {{#is name currentSort.fieldName}} class="info" {{/is}} ($click)="setSort(name)">
              {{alias}}
              {{#is name currentSort.fieldName}}<i class="sort-icon fa fa-sort-{{#is currentSort.type 'desc'}}desc{{else}}asc{{/is}}"></i>{{/is}}
            </th>
          {{/each}}
        </tr>
      </thead>
      <tbody>
        {{#each objects}}
          <tr {{#if isSelected(.)}} class="warning" {{/if}}>
            <td class="tool-buttons">
              <i ($click)="toggleSelected(.)" class="fa {{#if isSelected(.)}}fa-check-square-o{{else}}fa-square-o{{/if}}"></i>
              {{#each buttons}}
                <i ($click)="buttonClick(eventName, ../.)" title="{{title}}" class="{{iconClass}}"></i>
              {{/each}}
            </td>
            {{#each fields}}
              {{! this passes the field name and the current object to getFieldValue }}
              <td>{{{getFieldValue(., ../.)}}}</td>
            {{/each}}
          </tr>
        {{/each}}
      </tbody>
    </table>
  {{else}}
    <p>There are currently no items here.</p>
  {{/if}}
</div>
